(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[9,12],{100:function(e,t,n){},101:function(e,t,n){},108:function(e,t,n){"use strict";var a=n(42),r=n.n(a),i=n(43),o=n(46);t.a={get:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/store/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/store");case 2:return t=e.sent,e.abrupt("return",t.data||[]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/store",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.patch("/api/store/"+t,n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/api/store/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteAll:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/api/store");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},109:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var a=n(42),r=n.n(a),i=n(43),o=n(9),s=n(10),c=n(16),u=n(12),l=n(11),p=n(1),d=n.n(p),h=(n(93),n(47)),m=n(17),f=(n(94),n(20)),v=n.n(f),g=n(45),b=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={dict:{},redirect:e.redirect,loading:!0,error:void 0,form:{}},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,h.a.getDictionary("en");case 4:t=e.sent,this.setState({dict:t}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,e.next=13,g.a.getUser();case 13:(n=e.sent)?this.setState({user:n}):console.log("user not logged in"),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10),this.setState({getUser:!1});case 20:this.setState({loading:!1});case 21:case"end":return e.stop()}}),e,this,[[1,8],[10,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadDictionary",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.getDictionary("en");case 3:t=e.sent,this.setState({dict:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.onError(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleLogout",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.logout();case 3:this.props.onChange("login"),this.setState({user:void 0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.onError(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.loading,n=this.props,a=n.header,r=n.children,i=n.type,o=n.error,s=n.noLogo,c=n.dict,u="login"!==i?d.a.createElement("div",{id:"container-logout",onClick:function(){return e.props.onChange("login")}},c.login):d.a.createElement("div",{id:"container-signup",onClick:function(){return e.props.onChange("signup")}},c.signup);return t?d.a.createElement(m.a,null):d.a.createElement("div",{id:"container-wrapper"},d.a.createElement("div",{id:"container-top"},d.a.createElement("div",{id:"container-spacer"}),u),d.a.createElement("div",{id:"container-header-border"}),d.a.createElement("div",{id:"container-header"},a,d.a.createElement("div",{id:"container-header-logo-wrap"},!s&&d.a.createElement("a",{href:"/"},d.a.createElement("img",{alt:"Chinemachine",src:v.a,id:"container-header-logo"})))),d.a.createElement("div",{id:"container-content"},r),o&&d.a.createElement("div",{id:"container-error"},o),t&&d.a.createElement(m.a,null))}}]),n}(p.Component),y=(n(95),n(44)),k=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={dict:{},redirect:e.redirect,loading:!0,getUser:!1,loggingIn:!1,error:void 0,user:void 0,form:{email:"",password:""}},a.handleSubmit=a.handleSubmit.bind(Object(c.a)(a)),a.handleFormChange=a.handleFormChange.bind(Object(c.a)(a)),a.handleLogout=a.handleLogout.bind(Object(c.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,n,a=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,h.a.getDictionary("en");case 4:t=e.sent,this.setState({dict:t}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,e.next=13,g.a.getUser();case 13:(n=e.sent)?(console.log("user already logged in"),this.setState({getUser:!0,user:n},(function(){a.handleLogin(n)}))):console.log("user not logged in"),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10),this.setState({getUser:!1});case 20:this.setState({loading:!1});case 21:case"end":return e.stop()}}),e,this,[[1,8],[10,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"loadDictionary",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.getDictionary("en");case 3:t=e.sent,this.setState({dict:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.onError(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleFormChange",value:function(e){var t=this.state.form;t[e.target.id]=e.target.value,this.setState({form:t})}},{key:"handleSubmit",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.state.form,this.setState({error:void 0,loggingIn:!0}),e.prev=3,this.props.onSubmit(),e.next=7,g.a.login(n.email,n.password);case 7:a=e.sent,setTimeout((function(){i.setState({user:a,loggingIn:!1,getUser:!0},(function(){return i.handleLogin(a)}))}),500),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),this.setState({loggingIn:!1}),this.props.onError(e.t0);case 15:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleLogin",value:function(e){this.props.onLogin&&this.props.onLogin(e||this.state.user)}},{key:"handleLogout",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.logout();case 3:this.setState({getUser:!1}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.props.onError(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.form,n=e.loading,a=e.loggingIn,r=e.getUser,i=this.props.dict;return d.a.createElement(d.a.Fragment,null,d.a.createElement("form",{onSubmit:this.handleSubmit},d.a.createElement("input",{id:"email",name:"email",autoFocus:!1,placeholder:i.email+"...",type:"text",value:t.email,onChange:this.handleFormChange}),d.a.createElement("input",{id:"password",name:"password",placeholder:i.password+"...",type:"password",value:t.password,onChange:this.handleFormChange}),d.a.createElement(y.a,{className:"button-wide",type:"submit",loading:a},"Okey")),a&&d.a.createElement(m.a,{message:i.loggingIn}),r&&d.a.createElement("div",{id:"login-loggedin"},d.a.createElement("div",{id:"login-loggedin-message"},i.youAreLoggedIn)),n&&d.a.createElement(m.a,null))}}]),n}(p.Component),w=(n(96),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={loading:!0,error:void 0},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.onSubmit(),e.next=4,g.a.logout();case 4:this.setState({loading:!1}),this.props.onLogout(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.props.onError(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.loading,t=this.props.dict;return e?d.a.createElement(m.a,{message:t.loggingOut+"..."}):d.a.createElement("div",null,t.youAreLoggedIn)}}]),n}(p.Component)),E=(n(97),n(155),n(166)),x=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={dict:{},isSignedUp:!1,loading:!1,signingUp:!1,error:void 0,token:e.token,form:{firstName:"",lastName:"",email:"",email2:"",phone:"",password:"",password2:""}},a.handleSubmit=a.handleSubmit.bind(Object(c.a)(a)),a.handleFormChange=a.handleFormChange.bind(Object(c.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.loadDictionary()}},{key:"loadDictionary",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.getDictionary("en");case 3:t=e.sent,this.setState({dict:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.onError(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleFormChange",value:function(e){var t=this.state.form;t[e.target.id]=e.target.value,this.setState({form:t})}},{key:"handlePhoneChange",value:function(e){var t=this.state.form;t.phone=e,this.setState({form:t})}},{key:"handleSubmit",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("saving signup"),t.preventDefault(),n=this.state.form,this.setState({signingUp:!0,error:void 0}),e.prev=4,console.log("signing up no..."),this.props.onSubmit(),e.next=9,g.a.signup(n);case 9:a=e.sent,console.log("SIGNED UP"),this.setState({user:a},(function(){return i.handleSignUp(a)})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log("was errors"),this.props.onError(e.t0);case 18:setTimeout((function(){i.setState({signingUp:!1})}),300);case 19:case"end":return e.stop()}}),e,this,[[4,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSignUp",value:function(e){if(console.log("signed up",e),!e)return this.props.onError("User signed in is empty");this.setState({isSignedUp:!0,user:e,error:void 0}),this.props.onSignUp&&this.props.onSignUp(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.form,a=t.signingUp,r=t.error,i=this.props.dict;return d.a.createElement(d.a.Fragment,null,d.a.createElement("form",{onSubmit:this.handleSubmit},d.a.createElement("input",{id:"firstName",value:n.firstName,onChange:this.handleFormChange,autoComplete:"off",placeholder:i.firstName+"...",name:"firstName",type:"text"}),d.a.createElement("input",{id:"lastName",value:n.lastName,onChange:this.handleFormChange,autoComplete:"off",placeholder:i.lastName+"...",name:"firstName",type:"text"}),d.a.createElement("input",{id:"email",value:n.email,onChange:this.handleFormChange,autoComplete:"off",placeholder:i.email+"...",name:"email",type:"text"}),d.a.createElement("input",{id:"email2",value:n.email2,onChange:this.handleFormChange,autoComplete:"off",placeholder:i.reType+" "+i.email+"...",name:"email2",type:"text"}),d.a.createElement("input",{id:"password",value:n.password,onChange:this.handleFormChange,autoComplete:"off",placeholder:i.password+"...",name:"password",type:"password"}),d.a.createElement("input",{id:"password2",value:n.password2,onChange:this.handleFormChange,autoComplete:"off",placeholder:i.reType+" "+i.password+"...",name:"password",type:"password"}),d.a.createElement(E.a,{placeholder:i.phone+"...",value:n.phone,defaultCountry:"FR",onChange:function(t){return e.handlePhoneChange(t)}}),d.a.createElement(y.a,{type:"submit",loading:a},"Okey")),a&&d.a.createElement(m.a,{message:i.signingUp}),r&&d.a.createElement("div",{id:"signup-error"},r))}}]),n}(p.Component),S=(n(98),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={dict:{},loading:!0,resetting:!1,success:!1,error:void 0,user:void 0,form:{email:""}},a.handleSubmit=a.handleSubmit.bind(Object(c.a)(a)),a.handleFormChange=a.handleFormChange.bind(Object(c.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handleFormChange",value:function(e){var t=this.state.form;t[e.target.id]=e.target.value,this.setState({form:t})}},{key:"handleSubmit",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.state.form,this.setState({error:void 0,resetting:!0,success:!1}),e.prev=3,this.props.onSubmit(),e.next=7,g.a.requestPasswordReset(n.email);case 7:setTimeout((function(){return a.setState({resetting:!1,success:!0})}),500),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),this.setState({resetting:!1,success:!1}),this.props.onError(e.t0);case 14:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.form,n=e.success,a=e.resetting,r=this.props.dict;return d.a.createElement(d.a.Fragment,null,d.a.createElement("form",{onSubmit:this.handleSubmit},n?d.a.createElement("div",{id:"reset-password-message-done"},r.checkEmailForPasswordResetLink):d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{id:"reset-password-message"},r.fillInEmailPasswordReset),d.a.createElement("input",{id:"email",name:"email",autoFocus:!0,placeholder:r.email+"...",type:"text",value:t.email,onChange:this.handleFormChange}),d.a.createElement(y.a,{type:"submit",loading:a},"Okey"))),a&&d.a.createElement(m.a,null))}}]),n}(p.Component)),O=(n(99),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={token:e.token,loading:!1,updating:!1,success:!1,error:void 0,user:void 0,form:{newpassword:"",newpassword2:"",token:e.token}},a.handleSubmit=a.handleSubmit.bind(Object(c.a)(a)),a.handleFormChange=a.handleFormChange.bind(Object(c.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handleFormChange",value:function(e){var t=this.state.form;t[e.target.id]=e.target.value,this.setState({form:t})}},{key:"handleSubmit",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(n=this.state.form).newpassword===n.newpassword2){e.next=4;break}return e.abrupt("return",this.props.onError({message:"Password does not match"}));case 4:return this.setState({error:void 0,updating:!0,success:!1}),e.prev=5,this.props.onSubmit(),e.next=9,g.a.updatePassword(n.token,n.newpassword,n.newpassword2);case 9:setTimeout((function(){return a.setState({updating:!1,success:!0})}),500),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),this.setState({updating:!1,success:!1}),this.props.onError(e.t0);case 16:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.form,n=e.loading,a=e.success,r=e.updating,i=this.props.dict;return d.a.createElement(d.a.Fragment,null,a?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{id:"reset-password-message"},i.yourPasswordWasReset)):d.a.createElement("form",{onSubmit:this.handleSubmit},d.a.createElement("input",{id:"newpassword",name:"newpassword",autoFocus:!0,placeholder:i.newPassword+"...",type:"password",value:t.newpassword,onChange:this.handleFormChange}),d.a.createElement("input",{id:"newpassword2",name:"newpassword2",autoFocus:!1,placeholder:i.reType+" "+i.newPassword+"...",type:"password",value:t.newpassword2,onChange:this.handleFormChange}),d.a.createElement("input",{id:"token",name:"token",type:"hidden",value:t.token,onChange:this.handleFormChange}),d.a.createElement(y.a,{type:"submit",loading:n},i.send)),r&&d.a.createElement(m.a,null),n&&d.a.createElement(m.a,null))}}]),n}(p.Component)),C=(n(100),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={dict:{},token:e.token,verified:!1,verifying:!1,loading:!1,error:void 0,form:{code:"",token:e.token||""}},a.formRef=d.a.createRef(),a.handleSubmit=a.handleSubmit.bind(Object(c.a)(a)),a.handleFormChange=a.handleFormChange.bind(Object(c.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadDictionary();case 2:this.state.token&&this.handleSubmit();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadDictionary",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.getDictionary();case 3:t=e.sent,this.setState({dict:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.onError(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleFormChange",value:function(e){var t=this.state.form;t[e.target.id]=e.target.value,this.setState({form:t})}},{key:"handleSubmit",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("verifying signup"),t&&t.preventDefault(),n=this.state.form,e.prev=3,this.setState({verifying:!0,verified:!1,error:void 0}),this.props.onSubmit(),e.next=8,g.a.verify(n.token||n.code);case 8:this.setState({verified:!0,verifying:!1}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),this.props.onError(e.t0),this.setState({verifying:!1,verified:!1,error:e.t0});case 15:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.form,a=t.verifying,r=t.verified,i=t.error,o=t.user,s=this.props.dict;return a?d.a.createElement(m.a,{message:"verifying account"}):d.a.createElement(d.a.Fragment,null,!i&&r&&d.a.createElement("div",{id:"verify-finished-message"},s.accountIsVerified,d.a.createElement("br",null),d.a.createElement("div",{id:"verify-finished-gotologin"},d.a.createElement(y.a,{onClick:function(){return e.props.onVerification(o)}},s.login))),!r&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{id:"verify-finished-message"},s.checkEmailToVerifyAccount),d.a.createElement("form",{ref:this.formRef,onSubmit:this.handleSubmit},d.a.createElement("input",{id:"code",autoComplete:"off",autoFocus:!1,value:n.code,placeholder:s.securityCode+"...",name:"code",type:"number",onChange:this.handleFormChange}),d.a.createElement("input",{id:"token",name:"token",type:"hidden",value:n.token,onChange:this.handleFormChange}),d.a.createElement(y.a,{type:"submit",loading:a},"Okey"))))}}]),n}(p.Component)),j=(n(101),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={dict:{},token:e.token,resent:!1,resending:!1,loading:!1,error:void 0,form:{email:""}},a.formRef=d.a.createRef(),a.handleSubmit=a.handleSubmit.bind(Object(c.a)(a)),a.handleFormChange=a.handleFormChange.bind(Object(c.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadDictionary();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadDictionary",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.getDictionary("en");case 3:t=e.sent,this.setState({dict:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.onError(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleFormChange",value:function(e){var t=this.state.form;t[e.target.id]=e.target.value,this.setState({form:t})}},{key:"handleSubmit",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("verifying signup"),t&&t.preventDefault(),n=this.state.form,e.prev=3,this.props.onSubmit(),this.setState({resending:!0,resent:!1,error:void 0}),e.next=8,g.a.reverify(n.email);case 8:this.setState({resending:!1,resent:!0}),this.props.onReCode(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),this.setState({resending:!1}),this.props.onError(e.t0);case 16:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.form,a=t.resent,r=t.resending,i=t.user,o=this.props.dict;return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{id:"recode-enter-email"},o.enterEmailForCode),a?d.a.createElement("div",{id:"recode-finished-message"},o.accountIsVerified,d.a.createElement("br",null),d.a.createElement(y.a,{id:"recode-finished-gotologin",onClick:function(){return e.props.onVerification(i)}},o.login)):d.a.createElement("form",{ref:this.formRef,onSubmit:this.handleSubmit},d.a.createElement("input",{id:"email",autoComplete:"off",autoFocus:!1,value:n.email,placeholder:o.email+"...",name:"email",type:"text",onChange:this.handleFormChange}),d.a.createElement(y.a,{type:"submit",loading:r},"Okey")),r&&d.a.createElement(m.a,{message:o.reSendingVerificationCode}))}}]),n}(p.Component)),D=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;Object(o.a)(this,n),a=t.call(this,e);var r=new URLSearchParams(e.location?e.location.search:""),i=e.location&&e.location.pathname.replace("/verification","")?e.location.pathname.replace("/verification/",""):e.type||"login";return a.state={loading:!1,type:i,dict:{},noBackground:e.noBackground,error:r.get("error")||void 0,redirect:r.get("redirect"),token:r.get("token"),types:{login:"Login",logout:"Log out",signup:"Sign Up",verify:"Verify",reset:"Reset password",update:"Change password",recode:"Verify account"}},a.handleLogin=a.handleLogin.bind(Object(c.a)(a)),a.handleLogout=a.handleLogout.bind(Object(c.a)(a)),a.handleSignUp=a.handleSignUp.bind(Object(c.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.loadDictionary()}},{key:"loadDictionary",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.getDictionary();case 2:t=e.sent,n={login:t.login,logout:t.logout,signup:t.signup,verify:t.verify,reset:t.resetPassword,update:t.changePassword,recode:t.verifyAccount},this.setState({dict:t,types:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){this.setState({error:void 0})}},{key:"handleError",value:function(e){var t=e?e.response&&e.response.data?e.response.data.message:e.message||e.toString():void 0;this.setState({error:t})}},{key:"handleShowType",value:function(e,t){var n=this;console.log(e,t),this.setState({type:e,user:t,error:void 0},(function(){document.title="Chinemachine / "+n.state.types[n.state.type]}))}},{key:"handleShowLogin",value:function(e){this.setState({component:k,user:e})}},{key:"handleLogin",value:function(e){this.setState({user:e,error:void 0}),this.props.onLogin&&this.props.onLogin(e),this.redirect(),console.log("logged in")}},{key:"handleLogout",value:function(){this.setState({user:null,type:"login",error:void 0}),this.props.onLogout&&this.props.onLogout(),this.redirect(),console.log("logged out")}},{key:"handleSignUp",value:function(e){console.log("NEW SIGNUP",e),this.setState({user:e,error:void 0}),this.props.onSignUp&&this.props.onSignUp(),this.handleShowType("verify"),console.log("signed up")}},{key:"handleVerification",value:function(e){console.log("verified account"),this.setState({error:void 0}),this.props.onVerification&&this.props.onVerification(),this.handleShowType("login")}},{key:"handleUpdated",value:function(e){console.log(e),this.handleShowType("login")}},{key:"redirect",value:function(){console.log("REDIRECT",this.state.redirect),this.state.redirect&&this.props.history.push(this.state.redirect)}},{key:"render",value:function(){var e=this,t=this.state,n=t.user,a=t.type,r=t.types,i=t.loading,o=t.redirect,s=t.noBackground,c=t.token,u=t.dict,l=t.error,p=this.props.noLogo;return d.a.createElement("div",{id:"verification",style:s?{background:"none"}:void 0},d.a.createElement(b,{header:r[a],type:a,error:l,noLogo:p,dict:u,onChange:function(t){return e.handleShowType(t)}},"login"===a?d.a.createElement(k,{key:"login",email:n&&n.email,onLogin:this.handleLogin,redirect:o,dict:u,onError:function(t){return e.handleError(t)},onSubmit:function(){return e.handleSubmit()}}):"logout"===a?d.a.createElement(w,{key:"logout",email:n&&n.email,onLogout:this.handleLogout,redirect:o,dict:u,onError:function(t){return e.handleError(t)},onSubmit:function(){return e.handleSubmit()}}):"reset"===a?d.a.createElement(S,{key:"reset",email:n&&n.email,token:c,dict:u,onError:function(t){return e.handleError(t)},onSubmit:function(){return e.handleSubmit()}}):"update"===a?d.a.createElement(O,{key:"update",email:n&&n.email,token:c,dict:u,onUpdated:function(){return e.handleUpdated()},onError:function(t){return e.handleError(t)},onSubmit:function(){return e.handleSubmit()}}):"verify"===a?d.a.createElement(C,{key:"update",token:c,dict:u,onVerification:function(t){return e.handleVerification(t)},onError:function(t){return e.handleError(t)},onSubmit:function(){return e.handleSubmit()}}):"recode"===a?d.a.createElement(j,{key:"recode",dict:u,onReCode:function(){return e.handleShowType("verify")},onError:function(t){return e.handleError(t)},onSubmit:function(){return e.handleSubmit()}}):"signup"===a?d.a.createElement(x,{key:"signup",dict:u,onSignUp:this.handleSignUp,redirect:o,onError:function(t){return e.handleError(t)},onSubmit:function(){return e.handleSubmit()}}):d.a.createElement("div",null,"Invalid type"),i&&d.a.createElement(m.a,null)),d.a.createElement("div",{id:"verification-bubbles"},d.a.createElement("div",{className:"verification-bubble",onClick:function(){return e.handleShowType("reset")}},u.forgotPassword),d.a.createElement("div",{className:"verification-bubble",onClick:function(){return e.handleShowType("recode")}},u.verifyAccount)))}}]),n}(p.Component);t.default=D},301:function(e,t,n){"use strict";var a=n(50),r=n(42),i=n.n(r),o=n(43),s=n(9),c=n(10),u=n(16),l=n(12),p=n(11),d=n(1),h=n.n(d),m=(n(302),n(92)),f=n(352),v=n(150),g=n.n(v),b=n(388),y=n(44),k=n(17),w=n(336),E=n(47),x=n(108),S=n(90),O=n(91),C=(n(368),function(e,t,n,a,r,i){var o=1e3*g.a.tz(g()({year:e,month:t,day:n,hour:a,minute:r}).format("YYYY-MM-DD HH:mm"),"YYYY-MM-DD HH:mm","Europe/Paris").unix(),s=o+18e5;return{_id:o+"-"+s,startTime:o,endTime:s,storeId:i._id,store:i,generated:!0}}),j=function(e,t){for(var n=[],a=12,r=0;a<20;a+=.5)n.push(C(e.getFullYear(),e.getMonth(),e.getDate(),Math.floor(a),r,t)),r=0===r?30:0;return n},D=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={date:e.date||new Date,selected:e.selected||void 0,availability:e.availability,dict:{},loading:!0,loadingAppointment:!1,saving:!1,cancelling:!1,refreshing:!1,error:void 0,done:!1,calendarDate:void 0,store:void 0,stores:[],avail:void 0,available:[],availableMonth:[],appointment:void 0,updatingSlot:void 0,customerSearchTerm:"",customerSearch:[],customer:void 0,booking:!1},a.handleCalendarChange=a.handleCalendarChange.bind(Object(u.a)(a)),a.handleDateChanged=a.handleDateChanged.bind(Object(u.a)(a)),a.handleIsDateDisabled=a.handleIsDateDisabled.bind(Object(u.a)(a)),a.handleDeleteAppointment=a.handleDeleteAppointment.bind(Object(u.a)(a)),a.handleIsDateAvailable=a.handleIsDateAvailable.bind(Object(u.a)(a)),a.handleStartDateChange=a.handleStartDateChange.bind(Object(u.a)(a)),a.handleStoreChange=a.handleStoreChange.bind(Object(u.a)(a)),a.handleCustomerSearch=a.handleCustomerSearch.bind(Object(u.a)(a)),a.handleCustomerSearchSelected=a.handleCustomerSearchSelected.bind(Object(u.a)(a)),a.handleCustomerBooking=a.handleCustomerBooking.bind(Object(u.a)(a)),a.refreshInterval=null,a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,a,r,o,s,c=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.dict,a=t.langCode,this.setState({loading:!0}),e.prev=2,n){e.next=7;break}return e.next=6,E.a.getDictionary(a);case 6:n=e.sent;case 7:return e.next=9,x.a.getAll();case 9:return r=e.sent,o=r.length?r[1]:void 0,s=this.state.date,e.next=14,this.setStateAsync({dict:n,stores:r,store:o,date:s});case 14:return e.next=16,this.loadAll(s);case 16:this.refreshInterval=setInterval((function(){return c.loadAll(c.state.date,!0)}),3e4),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),this.handleError(e.t0);case 22:this.setState({loading:!1});case 23:case"end":return e.stop()}}),e,this,[[2,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"setStateAsync",value:function(e){var t=this;return new Promise((function(n){t.setState(e,n)}))}},{key:"loadAll",value:function(){var e=Object(o.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadAppointmentsByMonth(t,n);case 2:return e.next=4,this.loadAppointments(t,n);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshInterval)}},{key:"loadAppointments",value:function(){var e=Object(o.a)(i.a.mark((function e(t,n){var a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.store,r=this.props.edit,t=t||this.state.date?new Date(t||this.state.date):new Date,a){e.next=5;break}return e.abrupt("return");case 5:return n||this.setState({refreshing:!0,date:t}),e.prev=6,e.next=9,O.a.getByDate(t.getFullYear(),t.getMonth(),t.getDate(),a._id);case 9:o=e.sent,o=r?j(t,a).map((function(e,t){return o.filter((function(t){return g()(t.startTime).format("HH:mm")===g()(e.startTime).format("HH:mm")&&g()(t.endTime).format("HH:mm")===g()(e.endTime).format("HH:mm")}))[0]||e})):o.filter((function(e){return!e.userId&&"ACTIVE"===e.status&&!g()(e.startTime).isBefore(g()().tz("Europe/Paris"),"day")})),this.setState({available:o,date:t}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),this.handleError(e.t0);case 17:this.setState({refreshing:!1});case 18:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loadAppointmentsByMonth",value:function(){var e=Object(o.a)(i.a.mark((function e(t,n){var a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.store,r=this.props.edit,t=t||this.state.date?new Date(t||this.state.date):new Date,n||this.setState({refreshing:!0}),e.prev=4,e.next=7,O.a.getByMonth(t.getFullYear(),t.getMonth(),a._id);case 7:o=e.sent,r||(o=o.filter((function(e){return!e.userId&&"ACTIVE"===e.status&&!g()(e.startTime).isBefore(g()().tz("Europe/Paris"),"day")}))),this.setState({availableMonth:o,date:t}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),this.handleError(e.t0);case 15:this.setState({refreshing:!1});case 16:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateAvailabilities",value:function(e){var t=this.state,n=t.available,a=t.availableMonth;n=n.map((function(t){return t._id===e._id||t.startTime===e.startTime&&t.endTime===e.endTime?e:t})),a=a.map((function(t){return t._id===e._id||t.startTime===e.startTime&&t.endTime===e.endTime?e:t})),this.setState({available:n,selected:e,availableMonth:a})}},{key:"removeAvailability",value:function(e){var t=this.state,n=t.selected,r=t.available,i=t.availableMonth;n=Object(a.a)(Object(a.a)({},n),{},{generated:!0,_id:new Date(n.startTime).getTime()+"-"+new Date(n.endTime).getTime()}),r=r.map((function(t){return t._id===e?n:t})),i=i.filter((function(t){return t._id!==e})),this.setState({available:r,selected:n,availableMonth:i})}},{key:"handleCalendarChange",value:function(e){this.setState({date:e})}},{key:"handleDateChanged",value:function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadAppointments(t);case 2:this.setState({selected:void 0}),this.props.onChange&&this.props.onChange(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleStartDateChange",value:function(e){var t=e.activeStartDate;this.setState({appointment:void 0}),this.loadAppointments(t)}},{key:"handleToggleAvailability",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,o,s,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,r=n.edit,o=n.langCode,s=this.state.store,r){e.next=4;break}return e.abrupt("return");case 4:if(this.setState({saving:!0,updatingSlot:t._id}),t.userId){e.next=25;break}if(e.prev=6,t.generated){e.next=13;break}return e.next=10,O.a.delete(t._id);case 10:this.removeAvailability(t._id),e.next=17;break;case 13:return e.next=15,O.a.add(Object(a.a)(Object(a.a)({},t),{},{langCode:o,_id:void 0,storeId:s._id}));case 15:c=e.sent,this.updateAvailabilities(c);case 17:this.loadAll(this.state.date,!0),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),this.handleError(e.t0);case 23:e.next=35;break;case 25:return e.prev=25,e.next=28,O.a.get(t._id);case 28:u=e.sent,this.setState({appointment:u}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(25),this.handleError(e.t1);case 35:this.setState({saving:!1,updatingSlot:void 0});case 36:case"end":return e.stop()}}),e,this,[[6,20],[25,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSelected",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({selected:t,loadingAppointment:t.userId},Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.userId){e.next=12;break}return e.prev=1,e.next=4,O.a.get(t._id);case 4:t.appointment=e.sent,n.setState({selected:t,loadingAppointment:!1},(function(){document.getElementById("ac-appointment").scrollIntoView()})),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),n.setState({loadingAppointment:!1}),e.abrupt("return",n.handleError(e.t0));case 12:n.props.onSelect&&n.props.onSelect(t);case 13:case"end":return e.stop()}}),e,null,[[1,8]])}))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleIsDateDisabled",value:function(e){e.activeStartDate,e.date,e.view;return!1}},{key:"handleIsDateAvailable",value:function(e){e.activeStartDate;var t=e.date,n=(e.view,this.state.availableMonth),a=(this.props.edit,n.filter((function(e){return g.a.tz(e.startTime,"Europe/Paris").isSame(t,"day")}))),r=a.filter((function(e){return"BOOKED"===e.status})).length>0;return!a.length||(r?"ac-calendar-booked":"ac-calendar-active")}},{key:"handleTileContent",value:function(e){e.date,e.view}},{key:"handleDeleteAppointment",value:function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({saving:!0}),e.prev=1,e.next=4,O.a.delete(t);case 4:this.setState({appointment:void 0,selected:void 0}),this.loadAppointments(this.state.date,!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.handleError(e.t0);case 11:this.setState({saving:!1});case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCancelAppointment",value:function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({cancelling:!0}),e.prev=1,e.next=4,O.a.cancel(t.userId,t._id);case 4:this.loadAppointments(this.state.date,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.handleError(e.t0);case 10:this.setState({cancelling:!1});case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleStoreChange",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.stores,a=n.filter((function(e){return e._id===t.value}))[0],e.next=4,this.setStateAsync({store:a,selected:void 0});case 4:this.loadAll();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMaxDate",value:function(){return this.props.edit?g()().tz("Europe/Paris").add("months",12).toDate():g()().tz("Europe/Paris").add("months",2).toDate()}},{key:"getMinDate",value:function(){return this.props.edit?g()().tz("Europe/Paris").subtract("months",12).toDate():new Date}},{key:"handleError",value:function(e){var t=e.response&&e.response.data?e.response.data.message:e.message||e.toString();this.setState({error:t}),this.props.onError&&this.props.onError(e)}},{key:"handleCustomerSearch",value:function(e){var t=this;return this.setState({customerSearchTerm:e}),new Promise(function(){var n=Object(o.a)(i.a.mark((function n(a,r){var o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e.length<2)){n.next=2;break}return n.abrupt("return",a([]));case 2:return n.prev=2,n.next=5,S.a.search(e);case 5:o=(o=n.sent).map((function(e){return{label:e.firstName+" "+e.lastName+" ("+e.email+")",value:e._id}})),a(o),t.setState({customerSearch:o}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(2),r(n.t0);case 14:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e,t){return n.apply(this,arguments)}}())}},{key:"handleCustomerSearchSelected",value:function(e,t){this.setState({customer:e})}},{key:"handleCustomerBooking",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n,a,r,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=this.state,a=n.customer,r=n.selected,a){e.next=4;break}return e.abrupt("return",this.handleError("Not a valid customer"));case 4:if(r){e.next=6;break}return e.abrupt("return",this.handleError("No appointment time selected"));case 6:return o=a.value,s=r._id,this.setState({booking:!0}),e.prev=9,e.next=12,O.a.bookInternal(o,s);case 12:return c=e.sent,r.appointment=c,this.setState({selected:r}),e.next=17,this.loadAll();case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),this.handleError(e.t0);case 22:this.setState({booking:!1});case 23:case"end":return e.stop()}}),e,this,[[9,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.dict,r=t.date,i=t.loading,o=t.loadingAppointment,s=t.updatingSlot,c=t.saving,u=t.cancelling,l=t.refreshing,p=t.available,d=t.availableMonth,v=t.selected,E=t.store,x=t.stores,S=(t.customerSearch,t.customerSearchTerm,t.customer),O=t.booking,C=this.props,j=C.edit,D=C.langCode,A=this.getMinDate(),T={valueContainer:function(e,t){return Object(a.a)(Object(a.a)({},e),{},{justifyContent:"center",fontWeight:"bold"})}},F=p.map((function(t,n){var a;return a="CANCELLED"===t.status&&v&&v._id===t._id?"ac-slot-cancelled-selected":"CANCELLED"===t.status?"ac-slot-cancelled":t.userId&&v&&v._id===t._id?"ac-slot-booked-selected":t.userId?"ac-slot-booked":v&&v._id===t._id&&!v.generated?"ac-slot-selected-active":v&&v._id===t._id&&v.generated?"ac-slot-selected-deactivated":t.generated?"ac-slot":"ac-slot-available",h.a.createElement(b.a,{key:"hmr-"+n,onDoubleTap:function(){return e.handleToggleAvailability(t)},onTap:function(){return e.handleSelected(t)}},h.a.createElement("div",{key:"appointment"+n,className:a},h.a.createElement("div",{className:"ac-slot-time"},"CANCELLED"===t.status?"CANCELLED":g.a.tz(t.startTime,"Europe/Paris").format("HH:mm")+" - "+g.a.tz(t.endTime,"Europe/Paris").format("HH:mm")),s===t._id&&h.a.createElement(k.a,{styles:{backgroundColor:"rgb(221, 221, 221)"},type:"fast"})))}));return i?h.a.createElement(k.a,null):h.a.createElement("div",{id:"ac-wrap"},h.a.createElement("div",{id:"ac"},E&&x&&h.a.createElement("div",{id:"ac-appointment-store"},h.a.createElement(m.a,{onChange:this.handleStoreChange,value:{value:E._id,label:E.name+", "+E.city+" ("+E.postalCode+")"},menuPlacement:"bottom",isSearchable:!1,styles:T,options:x.map((function(e){return{value:e._id,label:e.name+", "+e.city+" ("+e.postalCode+")"}}))})),h.a.createElement(w.a,{minDate:A,maxDetail:"month",minDetail:"month",locale:"fr"===D?"fr-FR":"en-EN",onChange:this.handleDateChanged,tileDisabled:this.handleIsDateDisabled,tileClassName:function(t){return e.handleIsDateAvailable(t)},tileContent:function(t){return e.handleTileContent(t)},value:r,next2Label:null,prev2Label:null,showNeighboringMonth:!1,onActiveStartDateChange:this.handleStartDateChange}),h.a.createElement("div",{id:"ac-slots"},r&&p.length>0?h.a.createElement("div",{id:"ac-slots-wrap"},F):0===d.length?h.a.createElement("div",{id:"ac-slots-empty"},n.noAppointmentsAvailableMonth):h.a.createElement("div",{id:"ac-slots-empty"},n.noAppointmentsAvailable),l&&h.a.createElement(k.a,null)),j&&v&&h.a.createElement("div",{id:"ac-appointment"},o?h.a.createElement(k.a,{overlay:!0}):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{id:"ac-appointment-details"},h.a.createElement("div",{id:"ac-appointment-details-date-wrap"},h.a.createElement("div",{id:"ac-appointment-details-date"},g()(v.startTime).tz("Paris\u0192/Europe").format("HH:mm")," ",n.to," ",g()(v.endTime).tz("Europe/Paris").format("HH:mm")),h.a.createElement("div",{id:"ac-appointment-details-time"},g.a.tz(v.startTime,"Europe/Paris").format("dddd MMM Do")),h.a.createElement("div",{id:"ac-appointment-details-store"},v.store.name,", ",v.store.postalCode)),v.appointment&&v.appointment.user?h.a.createElement("div",{id:"ac-appointment-details-wrap"},h.a.createElement("div",{id:"ac-appointment-details-name"},v.appointment.user.firstName," ",v.appointment.user.lastName),h.a.createElement("div",{id:"ac-appointment-details-email"},v.appointment.user.email),h.a.createElement("div",{id:"ac-appointment-details-phone"},v.appointment.user.phone)):h.a.createElement("div",{id:"ac-appointment-details-book"},h.a.createElement("form",{id:"ac-appointment-book-form",onSubmit:this.handleCustomerBooking},h.a.createElement(f.a,{onChange:this.handleCustomerSearchSelected,placeholder:"Search customers...",loadOptions:this.handleCustomerSearch,cacheOptions:!0,value:S,blurInputOnSelect:!0}),h.a.createElement(y.a,{loading:O,disabled:!S},"BOOK")))),h.a.createElement("div",{id:"ac-appointment-buttons"},v.appointment?h.a.createElement(h.a.Fragment,null,h.a.createElement(y.a,{loading:u,onClick:function(){return e.handleCancelAppointment(v.appointment)}},"CANCEL"),h.a.createElement(y.a,{loading:c,onClick:function(){return e.handleDeleteAppointment(v.appointment._id)}},"DELETE"),h.a.createElement("a",{href:"tel:"+(v.appointment.user?v.appointment.user.phone:"")},h.a.createElement(y.a,{disabled:!v.appointment.user||!v.appointment.user.phone},"CALL")),h.a.createElement("a",{href:"mailto:"+v.appointment.email},h.a.createElement(y.a,null,"E-MAIL"))):h.a.createElement(h.a.Fragment,null,h.a.createElement(y.a,{loading:c,onClick:function(){return e.handleToggleAvailability(v)}},v.generated?"ACTIVATE":"DE-ACTIVATE")))))))}}]),n}(d.Component);t.a=D},302:function(e,t,n){},44:function(e,t,n){"use strict";var a=n(9),r=n(10),i=n(12),o=n(11),s=n(1),c=n.n(s),u=(n(71),n(21)),l=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={},r}return Object(r.a)(n,[{key:"handleClick",value:function(e){if(this.state.loading)return e.preventDefault();this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,a=t.style,r=t.disabled,i=t.loading,o=t.value;return c.a.createElement("button",{className:"button",style:a||void 0,type:n,disabled:r||void 0,onClick:function(t){return e.handleClick(t)}},i?c.a.createElement(u.a,{className:"button-loading"}):this.props.children||o,"\u200a")}}]),n}(s.Component);t.a=l},45:function(e,t,n){"use strict";var a=n(42),r=n.n(a),i=n(43),o=n(46);t.a={getUser:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/status");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),login:function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/verification/login",{email:t,password:n});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),logout:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/verification/logout",{email:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signup:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/verification/signup",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),verify:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/verification/verify/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),reverify:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/verification/reverify/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),requestPasswordReset:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/verification/reset/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updatePassword:function(){var e=Object(i.a)(r.a.mark((function e(t,n,a){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/verification/update",{token:t,password:n,password2:a});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()}},46:function(e,t,n){"use strict";var a=n(55),r=n.n(a);n.d(t,"a",(function(){return r.a})),r.a.defaults.withCredentials=!0},47:function(e,t,n){"use strict";var a=n(42),r=n.n(a),i=n(43),o=n(46);t.a={get:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/dictionary/id/"+t);case 2:return n=e.sent,e.abrupt("return",n.data||{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/dictionary/all");case 2:return t=e.sent,e.abrupt("return",t.data||[]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getDictionary:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/dictionary");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),add:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/dictionary/",{term:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.patch("/api/dictionary/"+t._id,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateMany:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.patch("/api/dictionary",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/api/dictionary/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteAll:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/api/dictionary");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},568:function(e,t,n){"use strict";n.r(t);var a=n(42),r=n.n(a),i=n(43),o=n(50),s=n(9),c=n(10),u=n(16),l=n(12),p=n(11),d=n(1),h=n.n(d),m=(n(109),n(20)),f=n.n(m),v=n(17),g=n(44),b=n(301),y=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state=Object(o.a)({},e),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.dict,n=e.langCode,a=e.date,r=e.selected;return h.a.createElement("div",{id:"appointment-select"},h.a.createElement("div",{id:"appointment-calendar"},h.a.createElement(b.a,{key:"appointment-calendar",dict:t,langCode:n,edit:!1,date:a,selected:r,onChange:this.props.onDateChange,onSelect:this.props.onSelectAvailable})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e}}]),n}(d.Component),k=n(120),w=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.type;return h.a.createElement("div",{id:"appointment-verification"},h.a.createElement(k.default,{type:e,noBackground:!0,noLogo:!0,onLogin:this.props.onLogin}))}}]),n}(d.Component),E=n(24),x=n.n(E),S=n(60),O=n.n(S),C=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.dict,n=e.selected,a=(e.user,n.store);return h.a.createElement("div",{id:"appointment-book"},h.a.createElement("div",{id:"appointment-book-wrap"},h.a.createElement("div",{id:"appointment-your"},"Your appointment"),h.a.createElement("br",null),h.a.createElement("div",{id:"appointment-book-time"},function(e,t){return h.a.createElement("div",null,O()(e.startTime).format("dddd MMMM Do"),h.a.createElement("br",null),O()(e.startTime).format("HH:mm")," ",t.to," ",O()(e.endTime).format("HH:mm"))}(n,t)),h.a.createElement("div",null,"@"),h.a.createElement("div",null,a.name,h.a.createElement("br",null),a.address,h.a.createElement("br",null),a.postalCode),h.a.createElement("div",null,h.a.createElement("img",{id:"appointment-logo",src:x.a,alt:"Chinemachine"})),h.a.createElement("div",{id:"appointment-book-now"},t.bookThisAppointment)))}}]),n}(d.Component),j=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.dict,n=e.appointment;return h.a.createElement("div",{id:"appointment-finished"},h.a.createElement("div",{id:"appointment-confirmation"},h.a.createElement("div",{id:"appointment-form-time"},h.a.createElement("span",{id:"appointment-confirmation-thanks"},t.thanksBooking),h.a.createElement("br",null),h.a.createElement("span",{id:"appointment-confirmation-bookedfor"},t.appointmentBookedFor),h.a.createElement("br",null),h.a.createElement("br",null),function(e,t){return O.a.locale(t._langCode),h.a.createElement("div",null,O()(e.startTime).format("dddd MMMM Do"),h.a.createElement("br",null),O()(e.startTime).format("HH:mm")," ",t.to," ",O()(e.endTime).format("HH:mm"))}(n,t)),h.a.createElement("div",{id:"appointment-form-store"},"@",h.a.createElement("br",null),n.store.name,h.a.createElement("br",null),n.store.address,h.a.createElement("br",null),n.store.postalCode),h.a.createElement("div",{id:"appointment-goto-account"},h.a.createElement("p",null,t.gotoAccount," ",h.a.createElement("a",{href:"/account"},"account")))))}}]),n}(d.Component),D=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.selected,a=t.dict,r=t.prev,i=t.book,o=t.next;return h.a.createElement("div",{id:"appointment-bottom"},!i&&n&&h.a.createElement("div",{id:"appointment-booking-time"},h.a.createElement("div",{id:"appointment-booking-time-header"},h.a.createElement("div",{id:"appointment-booking-time-date"},O()(n.startTime).format("dddd MMMM Do"),h.a.createElement("br",null),O()(n.startTime).format("HH:mm")," to ",O()(n.endTime).format("HH:mm")))),n&&h.a.createElement("div",{id:"appointment-bottom-buttons"},h.a.createElement(g.a,{className:"appointment-button",onClick:function(){return e.props.onPrev()},disabled:!r},a.back),void 0!==o&&h.a.createElement(g.a,{className:"appointment-button",onClick:function(){return e.props.onNext()},disabled:!o},a.next),i&&h.a.createElement(g.a,{style:{backgroundColor:"rgb(5, 155, 29)",color:"#fff"},onClick:function(){return e.props.onBookAppointment()},disabled:!1},a.confirm)))}}]),n}(d.Component),A=n(47),T=n(91),F=["date","verification","book","confirmation"],M={dict:void 0,loading:!0,saving:!1,done:!1,date:new Date,prev:void 0,next:void 0,available:[],selected:void 0,appointment:void 0,view:F[0],views:F,viewIndex:0,nextView:"verification",store:void 0,langCode:"en",user:void 0},L=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state=Object(o.a)({},M),a.handleSelectAvailable=a.handleSelectAvailable.bind(Object(u.a)(a)),a.handleLogin=a.handleLogin.bind(Object(u.a)(a)),a.handleBookAppointment=a.handleBookAppointment.bind(Object(u.a)(a)),a.handleRefresh=a.handleRefresh.bind(Object(u.a)(a)),a.handleDateChange=a.handleDateChange.bind(Object(u.a)(a)),a.handleCloseError=a.handleCloseError.bind(Object(u.a)(a)),a.handlePrev=a.handlePrev.bind(Object(u.a)(a)),a.handleNext=a.handleNext.bind(Object(u.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Chinemachine / Appointment",this.setState({loading:!0}),e.prev=2,e.next=5,A.a.getDictionary();case 5:return t=e.sent,this.setState({dict:t,langCode:t._langCode}),e.next=9,this.loadAppointAvailabilities();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),this.handleError(e.t0);case 14:this.setState({loading:!1});case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadAppointAvailabilities",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("load availabilities"),e.prev=1,t=this.state.date,e.next=5,T.a.getByMonth(t.getFullYear(),t.getMonth());case 5:n=e.sent,this.setState({available:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.handleError(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleSelectAvailable",value:function(e){var t=this;this.setState({selected:e},(function(){return t.handleView("date")}))}},{key:"handleBookAppointment",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,n,a,i,o=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,n=t.selected,a=t.user,n&&a){e.next=3;break}return e.abrupt("return",this.handleError("Not valid appointment!"));case 3:return this.setState({saving:!0}),e.prev=4,e.next=7,T.a.book(a._id,n._id);case 7:(i=e.sent).user=a,this.setState({appointment:i},(function(){return o.handleView("confirmation")})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0),this.handleError(e.t0);case 16:this.setState({saving:!1});case 17:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"validateBooking",value:function(){return!0}},{key:"handleLogin",value:function(e){var t=this;console.log("handle login......",e);var n=this.state.appointment;n&&(n.user=e),this.setState({user:e,appointment:n},(function(){t.handleView("book")}))}},{key:"handleView",value:function(e){console.log("handle view",e);var t=this.state,n=t.selected,a=t.user;"date"===e?this.setState({prev:void 0,next:!!n}):"verification"===e?this.setState({prev:!0,next:!!a}):"book"===e?this.setState({prev:!0,next:void 0}):"confirmation"===e&&this.setState({prev:void 0,next:void 0}),this.setState({view:e})}},{key:"handlePrev",value:function(){var e=this,t=this.state.viewIndex,n=--t;this.setState({viewIndex:n},(function(){e.handleView(F[n])}))}},{key:"handleNext",value:function(){var e=this,t=this.state,n=t.view,a=t.viewIndex,r=t.selected,i=t.user,o=++a;("date"!==n||r)&&("verification"!==n||i)&&("book"!==n||r&&!i)&&"confirmation"!==n&&this.setState({viewIndex:o},(function(){e.handleView(F[o])}))}},{key:"handleDateChange",value:function(e){this.setState({date:e})}},{key:"handleError",value:function(e){console.log(e);var t=e.response&&e.response.data?e.response.data.message:e.message||e.toString()||e;this.setState({error:t||"Unknown error"})}},{key:"handleCloseError",value:function(){this.setState({error:void 0})}},{key:"handleRefresh",value:function(){var e=this,t=this.state.date;this.setState(Object(o.a)(Object(o.a)({},M),{},{date:t}),(function(){return e.componentDidMount()}))}},{key:"render",value:function(){var e=this.state,t=e.date,n=e.loading,a=e.saving,r=e.selected,i=e.appointment,o=e.view,s=e.prev,c=e.next,u=e.user,l=e.error,p=e.dict,d=e.langCode;return console.log(r),n?h.a.createElement(v.a,null):h.a.createElement("div",{id:"appointment"},h.a.createElement("div",{id:"appointment-header"},h.a.createElement("div",{id:"appointment-header-logo-wrap"},h.a.createElement("a",{href:"/"},h.a.createElement("img",{src:f.a,alt:"Chinemachine",id:"appointment-header-logo"}))),h.a.createElement("h2",null,p.bookAppointment)),h.a.createElement("div",{id:"appointment-border"}),h.a.createElement("div",{id:"appointment-content-wrap"},h.a.createElement("div",{id:"appointment-content"},"date"===o?h.a.createElement(y,{dict:p,langCode:d,date:t,selected:r,onDateChange:this.handleDateChange,onSelectAvailable:this.handleSelectAvailable}):"verification"===o?h.a.createElement(w,{type:"login",onLogin:this.handleLogin}):"book"===o?h.a.createElement(C,{selected:r,dict:p,user:u}):"confirmation"===o?h.a.createElement(j,{dict:p,appointment:i}):null,"confirmation"!==o&&h.a.createElement(D,{selected:r,dict:p,prev:s,next:c,book:"book"===o,onPrev:this.handlePrev,onNext:this.handleNext,onBookAppointment:this.handleBookAppointment}),n&&h.a.createElement(v.a,null),a&&h.a.createElement(v.a,{message:p.savingApointment}),l&&h.a.createElement("div",{id:"appointment-error-wrap"},h.a.createElement("div",{id:"appointment-error"},h.a.createElement("div",{id:"appointment-error-header"},"Oh no..."),h.a.createElement("div",{id:"appointment-error-message"},l),h.a.createElement("div",{id:"appointment-error-close"},h.a.createElement(g.a,{className:"appointment-button",type:"button",onClick:this.handleCloseError},p.back)))))))}}]),n}(d.Component);t.default=L},71:function(e,t,n){},90:function(e,t,n){"use strict";var a=n(42),r=n.n(a),i=n(43),o=n(46);t.a={get:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/user/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/user");case 2:return t=e.sent,e.abrupt("return",t.data||[]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAppointments:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/user/appointmens/all");case 2:return t=e.sent,e.abrupt("return",t.data||[]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/user",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.patch("/api/user/"+t,n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/api/user/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteAll:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/api/user");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),search:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/user/util/search/"+t);case 2:return n=e.sent,e.abrupt("return",n.data||[]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},91:function(e,t,n){"use strict";var a=n(42),r=n.n(a),i=n(43),o=n(46);t.a={get:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/appointment/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/appointment");case 2:return t=e.sent,e.abrupt("return",t.data||[]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getByDate:function(){var e=Object(i.a)(r.a.mark((function e(t,n,a,i){var s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="/api/appointment/"+t+(void 0!==n?"/"+n:"")+(void 0!==n&&a?"/"+a:"")+(i?"/store/"+i:""),e.next=3,o.a.get(s);case 3:return c=e.sent,e.abrupt("return",c.data||[]);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),getByMonth:function(){var e=Object(i.a)(r.a.mark((function e(t,n,a){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/appointment/"+t+"/"+n+(a?"/store/"+a:""));case 2:return i=e.sent,e.abrupt("return",i.data||[]);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),getAllByMonth:function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/appointment/"+t+"/"+n);case 2:return a=e.sent,e.abrupt("return",a.data||[]);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getAllByWeek:function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/appointment/util/byweek/"+t+"/"+n);case 2:return a=e.sent,e.abrupt("return",a.data||[]);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getAllByUser:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/appointment/user/"+t);case 2:return n=e.sent,e.abrupt("return",n.data||[]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getData:function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/appointment/"+t+"/"+n);case 2:return a=e.sent,e.abrupt("return",a.data||{});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),add:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/appointment",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.patch("/api/appointment/"+t,n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/api/appointment/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteAll:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/api/appointment");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cancel:function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/appointment/user/"+t+"/appointment/"+n+"/cancel");case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),book:function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/appointment/user/"+t+"/appointment/"+n+"/book");case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bookInternal:function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/appointment/user/"+t+"/appointment/"+n+"/bookinternal");case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}}]);
//# sourceMappingURL=9.a071db7a.chunk.js.map