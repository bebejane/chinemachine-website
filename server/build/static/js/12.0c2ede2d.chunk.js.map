{"version":3,"sources":["components/verification/Container.js","components/verification/Login.js","components/verification/Logout.js","components/verification/Signup.js","components/verification/Reset.js","components/verification/Update.js","components/verification/Verify.js","components/verification/ReCode.js","components/verification/index.js","components/util/Button.js","services/verificationService.js","services/index.js","services/dictionaryService.js"],"names":["Container","props","state","dict","redirect","loading","error","undefined","form","this","setState","dictionaryService","getDictionary","verificationService","getUser","user","console","log","onError","logout","onChange","header","children","type","noLogo","nav","id","onClick","login","signup","Loader","href","alt","src","logo","Component","Login","loggingIn","email","password","handleSubmit","bind","handleFormChange","handleLogout","handleLogin","e","target","value","preventDefault","onSubmit","setTimeout","onLogin","Fragment","name","autoFocus","placeholder","Button","className","message","youAreLoggedIn","Logout","onLogout","loggingOut","Signup","isSignedUp","signingUp","token","firstName","lastName","email2","phone","password2","loadDictionary","handleSignUp","onSignUp","autoComplete","reType","defaultCountry","val","handlePhoneChange","Reset","resetting","success","requestPasswordReset","checkEmailForPasswordResetLink","fillInEmailPasswordReset","Update","updating","newpassword","newpassword2","updatePassword","yourPasswordWasReset","newPassword","send","Verify","verified","verifying","code","formRef","React","createRef","verify","accountIsVerified","onVerification","checkEmailToVerifyAccount","ref","securityCode","ReCode","resent","resending","reverify","onReCode","enterEmailForCode","reSendingVerificationCode","Verification","searchParams","URLSearchParams","location","search","pathname","replace","noBackground","get","types","reset","update","recode","resetPassword","changePassword","verifyAccount","err","response","data","toString","document","title","component","handleShowType","history","push","style","background","key","handleError","onUpdated","handleUpdated","handleVerification","forgotPassword","disabled","handleClick","a","axios","res","post","params","tokenOrCode","defaults","withCredentials","getAll","langCode","add","term","patch","_id","updateMany","dictionary","items","delete","deleteAll"],"mappings":"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","file":"static/js/12.0c2ede2d.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Container.css';\nimport logo from '../../images/cm_logo_white_128px.png';\nimport verificationService from '../../services/verificationService';\nimport dictionaryService from '../../services/dictionaryService';\nimport Loader from '../util/Loader';\n\nclass Container extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdict: {},\n\t\t\tredirect: props.redirect,\n\t\t\tloading: true,\n\t\t\terror: undefined,\n\t\t\tform: {},\n\t\t};\n\t}\n\tasync componentDidMount() {\n\t\tthis.setState({ loading: true });\n\n\t\ttry {\n\t\t\tconst dict = await dictionaryService.getDictionary('en');\n\t\t\tthis.setState({ dict });\n\t\t} catch (err) {}\n\n\t\ttry {\n\t\t\tconst user = await verificationService.getUser();\n\n\t\t\tif (user) this.setState({ user });\n\t\t\telse console.log('user not logged in');\n\t\t} catch (err) {\n\t\t\tthis.setState({ getUser: false });\n\t\t}\n\t\tthis.setState({ loading: false });\n\t}\n\tasync loadDictionary() {\n\t\ttry {\n\t\t\tconst dict = await dictionaryService.getDictionary('en');\n\t\t\tthis.setState({ dict });\n\t\t} catch (err) {\n\t\t\tthis.props.onError(err);\n\t\t}\n\t}\n\tasync handleLogout() {\n\t\ttry {\n\t\t\tawait verificationService.logout();\n\t\t\tthis.props.onChange('login');\n\t\t\tthis.setState({ user: undefined });\n\t\t} catch (err) {\n\t\t\tthis.props.onError(err);\n\t\t}\n\t}\n\trender() {\n\t\tconst { loading } = this.state;\n\t\tconst { header, children, type, error, noLogo, dict } = this.props;\n\t\tconst nav =\n\t\t\ttype !== 'login' ? (\n\t\t\t\t<div id='container-logout' onClick={() => this.props.onChange('login')}>\n\t\t\t\t\t{dict.login}\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div id='container-signup' onClick={() => this.props.onChange('signup')}>\n\t\t\t\t\t{dict.signup}\n\t\t\t\t</div>\n\t\t\t);\n\n\t\tif (loading) return <Loader />;\n\n\t\treturn (\n\t\t\t<div id='container-wrapper'>\n\t\t\t\t<div id='container-top'>\n\t\t\t\t\t<div id='container-spacer'></div>\n\t\t\t\t\t{nav}\n\t\t\t\t</div>\n\t\t\t\t<div id='container-header-border'></div>\n\t\t\t\t<div id='container-header'>\n\t\t\t\t\t{header}\n\t\t\t\t\t<div id='container-header-logo-wrap'>\n\t\t\t\t\t\t{!noLogo && (\n\t\t\t\t\t\t\t<a href='/'>\n\t\t\t\t\t\t\t\t<img alt='Chinemachine' src={logo} id='container-header-logo' />\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div id='container-content'>{children}</div>\n\t\t\t\t{error && <div id='container-error'>{error}</div>}\n\t\t\t\t{loading && <Loader />}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Container;\n","import React, { Component } from 'react';\nimport './Login.css';\nimport verificationService from '../../services/verificationService';\nimport dictionaryService from '../../services/dictionaryService';\nimport Loader from '../util/Loader';\nimport Button from '../util/Button';\n\nclass Login extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdict: {},\n\t\t\tredirect: props.redirect,\n\t\t\tloading: true,\n\t\t\tgetUser: false,\n\t\t\tloggingIn: false,\n\t\t\terror: undefined,\n\t\t\tuser: undefined,\n\t\t\tform: {\n\t\t\t\temail: '',\n\t\t\t\tpassword: '',\n\t\t\t},\n\t\t};\n\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleFormChange = this.handleFormChange.bind(this);\n\t\tthis.handleLogout = this.handleLogout.bind(this);\n\t}\n\tasync componentDidMount() {\n\t\tthis.setState({ loading: true });\n\n\t\ttry {\n\t\t\tconst dict = await dictionaryService.getDictionary('en');\n\t\t\tthis.setState({ dict });\n\t\t} catch (err) {}\n\n\t\ttry {\n\t\t\tconst user = await verificationService.getUser();\n\t\t\tif (user) {\n\t\t\t\tconsole.log('user already logged in');\n\t\t\t\tthis.setState({ getUser: true, user }, () => {\n\t\t\t\t\tthis.handleLogin(user);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconsole.log('user not logged in');\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tthis.setState({ getUser: false });\n\t\t}\n\t\tthis.setState({ loading: false });\n\t}\n\tcomponentWillUnmount() {}\n\tasync loadDictionary() {\n\t\ttry {\n\t\t\tconst dict = await dictionaryService.getDictionary('en');\n\t\t\tthis.setState({ dict });\n\t\t} catch (err) {\n\t\t\tthis.props.onError(err);\n\t\t}\n\t}\n\n\thandleFormChange(e) {\n\t\tconst form = this.state.form;\n\t\tform[e.target.id] = e.target.value;\n\t\tthis.setState({ form });\n\t}\n\tasync handleSubmit(e) {\n\t\te.preventDefault();\n\t\tconst { form } = this.state;\n\t\tthis.setState({ error: undefined, loggingIn: true });\n\t\ttry {\n\t\t\tthis.props.onSubmit();\n\t\t\tconst user = await verificationService.login(form.email, form.password);\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.setState({ user, loggingIn: false, getUser: true }, () => this.handleLogin(user));\n\t\t\t}, 500);\n\t\t} catch (err) {\n\t\t\tthis.setState({ loggingIn: false });\n\t\t\tthis.props.onError(err);\n\t\t}\n\t}\n\thandleLogin(user) {\n\t\tif (this.props.onLogin) this.props.onLogin(user || this.state.user);\n\t}\n\tasync handleLogout() {\n\t\ttry {\n\t\t\tawait verificationService.logout();\n\t\t\tthis.setState({ getUser: false });\n\t\t} catch (err) {\n\t\t\tthis.props.onError(err);\n\t\t}\n\t}\n\trender() {\n\t\tconst { form, loading, loggingIn, getUser } = this.state;\n\t\tconst { dict } = this.props;\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid='email'\n\t\t\t\t\t\tname='email'\n\t\t\t\t\t\tautoFocus={false}\n\t\t\t\t\t\tplaceholder={dict.email + '...'}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tvalue={form.email}\n\t\t\t\t\t\tonChange={this.handleFormChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid='password'\n\t\t\t\t\t\tname='password'\n\t\t\t\t\t\tplaceholder={dict.password + '...'}\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tvalue={form.password}\n\t\t\t\t\t\tonChange={this.handleFormChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button className='button-wide' type='submit' loading={loggingIn}>\n\t\t\t\t\t\tOkey\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t\t{loggingIn && <Loader message={dict.loggingIn} />}\n\t\t\t\t{getUser && (\n\t\t\t\t\t<div id='login-loggedin'>\n\t\t\t\t\t\t<div id='login-loggedin-message'>{dict.youAreLoggedIn}</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{loading && <Loader />}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default Login;\n","import React, { Component } from 'react';\nimport './Logout.css';\nimport verificationService from '../../services/verificationService';\nimport Loader from '../util/Loader';\n\nclass Logout extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloading: true,\n\t\t\terror: undefined,\n\t\t};\n\t}\n\tasync componentDidMount() {\n\t\ttry {\n\t\t\tthis.props.onSubmit();\n\t\t\tawait verificationService.logout();\n\t\t\tthis.setState({ loading: false });\n\t\t\tthis.props.onLogout();\n\t\t} catch (err) {\n\t\t\tthis.props.onError(err);\n\t\t}\n\t}\n\trender() {\n\t\tconst { loading } = this.state;\n\t\tconst { dict } = this.props;\n\t\tif (loading) return <Loader message={dict.loggingOut + '...'} />;\n\t\treturn <div>{dict.youAreLoggedIn}</div>;\n\t}\n}\n\nexport default Logout;\n","import React, { Component } from 'react';\nimport './Signup.css';\nimport 'react-phone-number-input/style.css';\nimport PhoneInput from 'react-phone-number-input';\nimport verificationService from '../../services/verificationService';\nimport dictionaryService from '../../services/dictionaryService';\nimport Loader from '../util/Loader';\nimport Button from '../util/Button';\n\nclass Signup extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdict: {},\n\t\t\tisSignedUp: false,\n\t\t\tloading: false,\n\t\t\tsigningUp: false,\n\t\t\terror: undefined,\n\t\t\ttoken: props.token,\n\t\t\tform: {\n\t\t\t\tfirstName: '',\n\t\t\t\tlastName: '',\n\t\t\t\temail: '',\n\t\t\t\temail2: '',\n\t\t\t\tphone: '',\n\t\t\t\tpassword: '',\n\t\t\t\tpassword2: '',\n\t\t\t},\n\t\t};\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleFormChange = this.handleFormChange.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tthis.loadDictionary();\n\t}\n\tasync loadDictionary() {\n\t\ttry {\n\t\t\tconst dict = await dictionaryService.getDictionary('en');\n\t\t\tthis.setState({ dict });\n\t\t} catch (err) {\n\t\t\tthis.props.onError(err);\n\t\t}\n\t}\n\thandleFormChange(e) {\n\t\tconst form = this.state.form;\n\t\tform[e.target.id] = e.target.value;\n\t\tthis.setState({ form });\n\t}\n\thandlePhoneChange(value) {\n\t\tconst form = this.state.form;\n\t\tform.phone = value;\n\t\tthis.setState({ form });\n\t}\n\tasync handleSubmit(e) {\n\t\tconsole.log('saving signup');\n\t\te.preventDefault();\n\t\tconst { form } = this.state;\n\t\tthis.setState({ signingUp: true, error: undefined });\n\t\ttry {\n\t\t\tconsole.log('signing up no...');\n\t\t\tthis.props.onSubmit();\n\t\t\tconst user = await verificationService.signup(form);\n\t\t\tconsole.log('SIGNED UP');\n\t\t\tthis.setState({ user }, () => this.handleSignUp(user));\n\t\t} catch (err) {\n\t\t\tconsole.log('was errors');\n\t\t\tthis.props.onError(err);\n\t\t}\n\t\tsetTimeout(() => {\n\t\t\tthis.setState({ signingUp: false });\n\t\t}, 300);\n\t}\n\thandleSignUp(user) {\n\t\tconsole.log('signed up', user);\n\t\tif (!user) return this.props.onError('User signed in is empty');\n\n\t\tthis.setState({ isSignedUp: true, user, error: undefined });\n\t\tif (this.props.onSignUp) this.props.onSignUp(user);\n\t}\n\trender() {\n\t\tconst { form, signingUp, error } = this.state;\n\t\tconst { dict } = this.props;\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid='firstName'\n\t\t\t\t\t\tvalue={form.firstName}\n\t\t\t\t\t\tonChange={this.handleFormChange}\n\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\tplaceholder={dict.firstName + '...'}\n\t\t\t\t\t\tname='firstName'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid='lastName'\n\t\t\t\t\t\tvalue={form.lastName}\n\t\t\t\t\t\tonChange={this.handleFormChange}\n\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\tplaceholder={dict.lastName + '...'}\n\t\t\t\t\t\tname='firstName'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid='email'\n\t\t\t\t\t\tvalue={form.email}\n\t\t\t\t\t\tonChange={this.handleFormChange}\n\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\tplaceholder={dict.email + '...'}\n\t\t\t\t\t\tname='email'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid='email2'\n\t\t\t\t\t\tvalue={form.email2}\n\t\t\t\t\t\tonChange={this.handleFormChange}\n\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\tplaceholder={dict.reType + ' ' + dict.email + '...'}\n\t\t\t\t\t\tname='email2'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid='password'\n\t\t\t\t\t\tvalue={form.password}\n\t\t\t\t\t\tonChange={this.handleFormChange}\n\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\tplaceholder={dict.password + '...'}\n\t\t\t\t\t\tname='password'\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid='password2'\n\t\t\t\t\t\tvalue={form.password2}\n\t\t\t\t\t\tonChange={this.handleFormChange}\n\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\tplaceholder={dict.reType + ' ' + dict.password + '...'}\n\t\t\t\t\t\tname='password'\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t/>\n\t\t\t\t\t<PhoneInput\n\t\t\t\t\t\tplaceholder={dict.phone + '...'}\n\t\t\t\t\t\tvalue={form.phone}\n\t\t\t\t\t\tdefaultCountry={'FR'}\n\t\t\t\t\t\tonChange={(val) => this.handlePhoneChange(val)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button type='submit' loading={signingUp}>\n\t\t\t\t\t\tOkey\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t\t{signingUp && <Loader message={dict.signingUp} />}\n\t\t\t\t{error && <div id='signup-error'>{error}</div>}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default Signup;\n","import React, { Component } from 'react';\nimport './Reset.css';\nimport verificationService from '../../services/verificationService';\nimport Loader from '../util/Loader';\nimport Button from '../util/Button';\n\nclass Reset extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdict: {},\n\t\t\tloading: true,\n\t\t\tresetting: false,\n\t\t\tsuccess: false,\n\t\t\terror: undefined,\n\t\t\tuser: undefined,\n\t\t\tform: {\n\t\t\t\temail: '',\n\t\t\t},\n\t\t};\n\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleFormChange = this.handleFormChange.bind(this);\n\t}\n\tasync componentDidMount() {}\n\thandleFormChange(e) {\n\t\tconst form = this.state.form;\n\t\tform[e.target.id] = e.target.value;\n\t\tthis.setState({ form });\n\t}\n\tasync handleSubmit(e) {\n\t\te.preventDefault();\n\n\t\tconst { form } = this.state;\n\t\tthis.setState({ error: undefined, resetting: true, success: false });\n\t\ttry {\n\t\t\tthis.props.onSubmit();\n\t\t\tawait verificationService.requestPasswordReset(form.email);\n\t\t\tsetTimeout(() => this.setState({ resetting: false, success: true }), 500);\n\t\t} catch (err) {\n\t\t\tthis.setState({ resetting: false, success: false });\n\t\t\tthis.props.onError(err);\n\t\t}\n\t}\n\trender() {\n\t\tconst { form, success, resetting } = this.state;\n\t\tconst { dict } = this.props;\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t{!success ? (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<div id='reset-password-message'>{dict.fillInEmailPasswordReset}</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tautoFocus={true}\n\t\t\t\t\t\t\t\tplaceholder={dict.email + '...'}\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tvalue={form.email}\n\t\t\t\t\t\t\t\tonChange={this.handleFormChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button type='submit' loading={resetting}>\n\t\t\t\t\t\t\t\tOkey\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div id='reset-password-message-done'>{dict.checkEmailForPasswordResetLink}</div>\n\t\t\t\t\t)}\n\t\t\t\t</form>\n\t\t\t\t{resetting && <Loader />}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default Reset;\n","import React, { Component } from 'react';\nimport './Update.css';\nimport verificationService from '../../services/verificationService';\nimport Loader from '../util/Loader';\nimport Button from '../util/Button';\n\nclass Update extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttoken: props.token,\n\t\t\tloading: false,\n\t\t\tupdating: false,\n\t\t\tsuccess: false,\n\t\t\terror: undefined,\n\t\t\tuser: undefined,\n\t\t\tform: {\n\t\t\t\tnewpassword: '',\n\t\t\t\tnewpassword2: '',\n\t\t\t\ttoken: props.token,\n\t\t\t},\n\t\t};\n\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleFormChange = this.handleFormChange.bind(this);\n\t}\n\tasync componentDidMount() {}\n\thandleFormChange(e) {\n\t\tconst form = this.state.form;\n\t\tform[e.target.id] = e.target.value;\n\t\tthis.setState({ form });\n\t}\n\tasync handleSubmit(e) {\n\t\te.preventDefault();\n\t\tconst { form } = this.state;\n\t\tif (form.newpassword !== form.newpassword2) return this.props.onError({ message: 'Password does not match' });\n\n\t\tthis.setState({ error: undefined, updating: true, success: false });\n\t\ttry {\n\t\t\tthis.props.onSubmit();\n\t\t\tawait verificationService.updatePassword(form.token, form.newpassword, form.newpassword2);\n\t\t\tsetTimeout(() => this.setState({ updating: false, success: true }), 500);\n\t\t} catch (err) {\n\t\t\tthis.setState({ updating: false, success: false });\n\t\t\tthis.props.onError(err);\n\t\t}\n\t}\n\trender() {\n\t\tconst { form, loading, success, updating } = this.state;\n\n\t\tconst { dict } = this.props;\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{!success ? (\n\t\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid='newpassword'\n\t\t\t\t\t\t\tname='newpassword'\n\t\t\t\t\t\t\tautoFocus={true}\n\t\t\t\t\t\t\tplaceholder={dict.newPassword + '...'}\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tvalue={form.newpassword}\n\t\t\t\t\t\t\tonChange={this.handleFormChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid='newpassword2'\n\t\t\t\t\t\t\tname='newpassword2'\n\t\t\t\t\t\t\tautoFocus={false}\n\t\t\t\t\t\t\tplaceholder={dict.reType + ' ' + dict.newPassword + '...'}\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tvalue={form.newpassword2}\n\t\t\t\t\t\t\tonChange={this.handleFormChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<input id='token' name='token' type='hidden' value={form.token} onChange={this.handleFormChange} />\n\t\t\t\t\t\t<Button type='submit' loading={loading}>\n\t\t\t\t\t\t\t{dict.send}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</form>\n\t\t\t\t) : (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<div id='reset-password-message'>{dict.yourPasswordWasReset}</div>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)}\n\t\t\t\t{updating && <Loader />}\n\t\t\t\t{loading && <Loader />}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default Update;\n","import React, { Component } from 'react';\nimport './Verify.css';\nimport verificationService from '../../services/verificationService';\nimport dictionaryService from '../../services/dictionaryService';\nimport Loader from '../util/Loader';\nimport Button from '../util/Button';\n\nclass Verify extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdict: {},\n\t\t\ttoken: props.token,\n\t\t\tverified: false,\n\t\t\tverifying: false,\n\t\t\tloading: false,\n\t\t\terror: undefined,\n\t\t\tform: {\n\t\t\t\tcode: '',\n\t\t\t\ttoken: props.token || '',\n\t\t\t},\n\t\t};\n\t\tthis.formRef = React.createRef();\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleFormChange = this.handleFormChange.bind(this);\n\t}\n\tasync componentDidMount() {\n\t\tawait this.loadDictionary();\n\t\tconst { token } = this.state;\n\t\tif (token) this.handleSubmit();\n\t}\n\tasync loadDictionary() {\n\t\ttry {\n\t\t\tconst dict = await dictionaryService.getDictionary();\n\t\t\tthis.setState({ dict });\n\t\t} catch (err) {\n\t\t\tthis.props.onError(err);\n\t\t}\n\t}\n\thandleFormChange(e) {\n\t\tconst form = this.state.form;\n\t\tform[e.target.id] = e.target.value;\n\t\tthis.setState({ form });\n\t}\n\tasync handleSubmit(e) {\n\t\tconsole.log('verifying signup');\n\t\tif (e) e.preventDefault();\n\n\t\tconst { form } = this.state;\n\t\ttry {\n\t\t\tthis.setState({ verifying: true, verified: false, error: undefined });\n\t\t\tthis.props.onSubmit();\n\t\t\tawait verificationService.verify(form.token || form.code);\n\t\t\tthis.setState({ verified: true, verifying: false });\n\t\t} catch (err) {\n\t\t\tthis.props.onError(err);\n\t\t\tthis.setState({ verifying: false, verified: false, error: err });\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { form, verifying, verified, error, user } = this.state;\n\n\t\tconst { dict } = this.props;\n\n\t\tif (verifying) return <Loader message={'verifying account'} />;\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{!error && verified && (\n\t\t\t\t\t<div id='verify-finished-message'>\n\t\t\t\t\t\t{dict.accountIsVerified}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<div id={'verify-finished-gotologin'}>\n\t\t\t\t\t\t\t<Button onClick={() => this.props.onVerification(user)}>{dict.login}</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{!verified && (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<div id='verify-finished-message'>{dict.checkEmailToVerifyAccount}</div>\n\t\t\t\t\t\t<form ref={this.formRef} onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid='code'\n\t\t\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\t\t\tautoFocus={false}\n\t\t\t\t\t\t\t\tvalue={form.code}\n\t\t\t\t\t\t\t\tplaceholder={dict.securityCode + '...'}\n\t\t\t\t\t\t\t\tname='code'\n\t\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\t\tonChange={this.handleFormChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input id='token' name='token' type='hidden' value={form.token} onChange={this.handleFormChange} />\n\t\t\t\t\t\t\t<Button type='submit' loading={verifying}>\n\t\t\t\t\t\t\t\tOkey\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default Verify;\n","import React, { Component } from 'react';\nimport './ReCode.css';\nimport verificationService from '../../services/verificationService';\nimport dictionaryService from '../../services/dictionaryService';\nimport Loader from '../util/Loader';\nimport Button from '../util/Button';\n\nclass ReCode extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdict: {},\n\t\t\ttoken: props.token,\n\t\t\tresent: false,\n\t\t\tresending: false,\n\t\t\tloading: false,\n\t\t\terror: undefined,\n\t\t\tform: {\n\t\t\t\temail: '',\n\t\t\t},\n\t\t};\n\t\tthis.formRef = React.createRef();\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleFormChange = this.handleFormChange.bind(this);\n\t}\n\tasync componentDidMount() {\n\t\tawait this.loadDictionary();\n\t}\n\tasync loadDictionary() {\n\t\ttry {\n\t\t\tconst dict = await dictionaryService.getDictionary('en');\n\t\t\tthis.setState({ dict });\n\t\t} catch (err) {\n\t\t\tthis.props.onError(err);\n\t\t}\n\t}\n\thandleFormChange(e) {\n\t\tconst form = this.state.form;\n\t\tform[e.target.id] = e.target.value;\n\t\tthis.setState({ form });\n\t}\n\tasync handleSubmit(e) {\n\t\tconsole.log('verifying signup');\n\t\tif (e) e.preventDefault();\n\n\t\tconst { form } = this.state;\n\t\ttry {\n\t\t\tthis.props.onSubmit();\n\t\t\tthis.setState({ resending: true, resent: false, error: undefined });\n\t\t\tawait verificationService.reverify(form.email);\n\t\t\tthis.setState({ resending: false, resent: true });\n\t\t\tthis.props.onReCode();\n\t\t} catch (err) {\n\t\t\tthis.setState({ resending: false });\n\t\t\tthis.props.onError(err);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { form, resent, resending, user } = this.state;\n\t\tconst { dict } = this.props;\n\t\t//if(loading) return <Loader/>\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div id='recode-enter-email'>{dict.enterEmailForCode}</div>\n\t\t\t\t{resent ? (\n\t\t\t\t\t<div id='recode-finished-message'>\n\t\t\t\t\t\t{dict.accountIsVerified}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Button id={'recode-finished-gotologin'} onClick={() => this.props.onVerification(user)}>\n\t\t\t\t\t\t\t{dict.login}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<form ref={this.formRef} onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\t\tautoFocus={false}\n\t\t\t\t\t\t\tvalue={form.email}\n\t\t\t\t\t\t\tplaceholder={dict.email + '...'}\n\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tonChange={this.handleFormChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button type='submit' loading={resending}>\n\t\t\t\t\t\t\tOkey\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</form>\n\t\t\t\t)}\n\t\t\t\t{resending && <Loader message={dict.reSendingVerificationCode} />}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default ReCode;\n","import React, { Component } from 'react';\nimport './index.css';\nimport dictionaryService from '../../services/dictionaryService';\nimport Loader from '../util/Loader';\nimport Container from './Container';\nimport Login from './Login';\nimport Logout from './Logout';\nimport Signup from './Signup';\nimport Reset from './Reset';\nimport Update from './Update';\nimport Verify from './Verify';\nimport ReCode from './ReCode';\n\nclass Verification extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst searchParams = new URLSearchParams(props.location ? props.location.search : '');\n\t\tconst type =\n\t\t\tprops.location && props.location.pathname.replace('/verification', '')\n\t\t\t\t? props.location.pathname.replace('/verification/', '')\n\t\t\t\t: props.type || 'login';\n\n\t\tthis.state = {\n\t\t\tloading: false,\n\t\t\ttype: type,\n\t\t\tdict: {},\n\t\t\tnoBackground: props.noBackground,\n\t\t\terror: searchParams.get('error') || undefined,\n\t\t\tredirect: searchParams.get('redirect'),\n\t\t\ttoken: searchParams.get('token'),\n\t\t\ttypes: {\n\t\t\t\tlogin: 'Login',\n\t\t\t\tlogout: 'Log out',\n\t\t\t\tsignup: 'Sign Up',\n\t\t\t\tverify: 'Verify',\n\t\t\t\treset: 'Reset password',\n\t\t\t\tupdate: 'Change password',\n\t\t\t\trecode: 'Verify account',\n\t\t\t},\n\t\t};\n\n\t\tthis.handleLogin = this.handleLogin.bind(this);\n\t\tthis.handleLogout = this.handleLogout.bind(this);\n\t\tthis.handleSignUp = this.handleSignUp.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tthis.loadDictionary();\n\t}\n\tasync loadDictionary() {\n\t\tconst dict = await dictionaryService.getDictionary();\n\t\tconst types = {\n\t\t\tlogin: dict.login,\n\t\t\tlogout: dict.logout,\n\t\t\tsignup: dict.signup,\n\t\t\tverify: dict.verify,\n\t\t\treset: dict.resetPassword,\n\t\t\tupdate: dict.changePassword,\n\t\t\trecode: dict.verifyAccount,\n\t\t};\n\t\tthis.setState({ dict, types });\n\t}\n\thandleSubmit() {\n\t\tthis.setState({ error: undefined });\n\t}\n\thandleError(err) {\n\t\tconst error = !err\n\t\t\t? undefined\n\t\t\t: err.response && err.response.data\n\t\t\t? err.response.data.message\n\t\t\t: err.message || err.toString();\n\t\tthis.setState({ error });\n\t}\n\thandleShowType(type, user) {\n\t\tconsole.log(type, user);\n\t\tthis.setState({ type, user, error: undefined }, () => {\n\t\t\tdocument.title = 'Chinemachine / ' + this.state.types[this.state.type];\n\t\t});\n\t}\n\thandleShowLogin(user) {\n\t\tthis.setState({ component: Login, user });\n\t}\n\thandleLogin(user) {\n\t\tthis.setState({ user, error: undefined });\n\t\tif (this.props.onLogin) this.props.onLogin(user);\n\t\tthis.redirect();\n\t\tconsole.log('logged in');\n\t}\n\thandleLogout() {\n\t\tthis.setState({ user: null, type: 'login', error: undefined });\n\t\tif (this.props.onLogout) this.props.onLogout();\n\t\tthis.redirect();\n\t\tconsole.log('logged out');\n\t}\n\thandleSignUp(user) {\n\t\tconsole.log('NEW SIGNUP', user);\n\t\tthis.setState({ user, error: undefined });\n\t\tif (this.props.onSignUp) this.props.onSignUp();\n\t\tthis.handleShowType('verify');\n\t\tconsole.log('signed up');\n\t}\n\thandleVerification(user) {\n\t\tconsole.log('verified account');\n\t\tthis.setState({ error: undefined });\n\t\tif (this.props.onVerification) this.props.onVerification();\n\t\tthis.handleShowType('login');\n\t}\n\n\thandleUpdated(user) {\n\t\tconsole.log(user);\n\t\tthis.handleShowType('login');\n\t}\n\tredirect() {\n\t\tconsole.log('REDIRECT', this.state.redirect);\n\t\t//return\n\t\tif (this.state.redirect) this.props.history.push(this.state.redirect);\n\t}\n\trender() {\n\t\tconst { user, type, types, loading, redirect, noBackground, token, dict, error } = this.state;\n\n\t\tconst { noLogo } = this.props;\n\n\t\treturn (\n\t\t\t<div id='verification' style={noBackground ? { background: 'none' } : undefined}>\n\t\t\t\t<Container\n\t\t\t\t\theader={types[type]}\n\t\t\t\t\ttype={type}\n\t\t\t\t\terror={error}\n\t\t\t\t\tnoLogo={noLogo}\n\t\t\t\t\tdict={dict}\n\t\t\t\t\tonChange={(type) => this.handleShowType(type)}\n\t\t\t\t>\n\t\t\t\t\t{type === 'login' ? (\n\t\t\t\t\t\t<Login\n\t\t\t\t\t\t\tkey={'login'}\n\t\t\t\t\t\t\temail={user && user.email}\n\t\t\t\t\t\t\tonLogin={this.handleLogin}\n\t\t\t\t\t\t\tredirect={redirect}\n\t\t\t\t\t\t\tdict={dict}\n\t\t\t\t\t\t\tonError={(err) => this.handleError(err)}\n\t\t\t\t\t\t\tonSubmit={() => this.handleSubmit()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : type === 'logout' ? (\n\t\t\t\t\t\t<Logout\n\t\t\t\t\t\t\tkey={'logout'}\n\t\t\t\t\t\t\temail={user && user.email}\n\t\t\t\t\t\t\tonLogout={this.handleLogout}\n\t\t\t\t\t\t\tredirect={redirect}\n\t\t\t\t\t\t\tdict={dict}\n\t\t\t\t\t\t\tonError={(err) => this.handleError(err)}\n\t\t\t\t\t\t\tonSubmit={() => this.handleSubmit()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : type === 'reset' ? (\n\t\t\t\t\t\t<Reset\n\t\t\t\t\t\t\tkey={'reset'}\n\t\t\t\t\t\t\temail={user && user.email}\n\t\t\t\t\t\t\ttoken={token}\n\t\t\t\t\t\t\tdict={dict}\n\t\t\t\t\t\t\tonError={(err) => this.handleError(err)}\n\t\t\t\t\t\t\tonSubmit={() => this.handleSubmit()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : type === 'update' ? (\n\t\t\t\t\t\t<Update\n\t\t\t\t\t\t\tkey={'update'}\n\t\t\t\t\t\t\temail={user && user.email}\n\t\t\t\t\t\t\ttoken={token}\n\t\t\t\t\t\t\tdict={dict}\n\t\t\t\t\t\t\tonUpdated={() => this.handleUpdated()}\n\t\t\t\t\t\t\tonError={(err) => this.handleError(err)}\n\t\t\t\t\t\t\tonSubmit={() => this.handleSubmit()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : type === 'verify' ? (\n\t\t\t\t\t\t<Verify\n\t\t\t\t\t\t\tkey={'update'}\n\t\t\t\t\t\t\ttoken={token}\n\t\t\t\t\t\t\tdict={dict}\n\t\t\t\t\t\t\tonVerification={(user) => this.handleVerification(user)}\n\t\t\t\t\t\t\tonError={(err) => this.handleError(err)}\n\t\t\t\t\t\t\tonSubmit={() => this.handleSubmit()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : type === 'recode' ? (\n\t\t\t\t\t\t<ReCode\n\t\t\t\t\t\t\tkey={'recode'}\n\t\t\t\t\t\t\tdict={dict}\n\t\t\t\t\t\t\tonReCode={() => this.handleShowType('verify')}\n\t\t\t\t\t\t\tonError={(err) => this.handleError(err)}\n\t\t\t\t\t\t\tonSubmit={() => this.handleSubmit()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : type === 'signup' ? (\n\t\t\t\t\t\t<Signup\n\t\t\t\t\t\t\tkey={'signup'}\n\t\t\t\t\t\t\tdict={dict}\n\t\t\t\t\t\t\tonSignUp={this.handleSignUp}\n\t\t\t\t\t\t\tredirect={redirect}\n\t\t\t\t\t\t\tonError={(err) => this.handleError(err)}\n\t\t\t\t\t\t\tonSubmit={() => this.handleSubmit()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div>Invalid type</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{loading && <Loader />}\n\t\t\t\t</Container>\n\t\t\t\t<div id='verification-bubbles'>\n\t\t\t\t\t<div className='verification-bubble' onClick={() => this.handleShowType('reset')}>\n\t\t\t\t\t\t{dict.forgotPassword}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='verification-bubble' onClick={() => this.handleShowType('recode')}>\n\t\t\t\t\t\t{dict.verifyAccount}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Verification;\n","import React, { Component } from 'react';\nimport './Button.css';\nimport { RiLoader5Line } from 'react-icons/ri';\n\nclass Button extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\thandleClick(e) {\n\t\tif (this.state.loading) return e.preventDefault();\n\t\tif (this.props.onClick) this.props.onClick(e);\n\t}\n\trender() {\n\t\tconst { type, style, disabled, loading, value } = this.props;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclassName={'button'}\n\t\t\t\tstyle={style || undefined}\n\t\t\t\ttype={type}\n\t\t\t\tdisabled={disabled || undefined}\n\t\t\t\tonClick={(e) => this.handleClick(e)}\n\t\t\t>\n\t\t\t\t{loading ? <RiLoader5Line className='button-loading' /> : this.props.children || value} \n\t\t\t</button>\n\t\t);\n\t}\n}\nexport default Button;\n","import { axios } from './';\n\nexport default {\n\tgetUser: async () => {\n\t\tlet res = await axios.get('/status');\n\t\treturn res.data;\n\t},\n\tlogin: async (email, password) => {\n\t\tlet res = await axios.post('/verification/login', { email, password });\n\t\treturn res.data;\n\t},\n\tlogout: async (email) => {\n\t\tlet res = await axios.post('/verification/logout', { email });\n\t\treturn res.data;\n\t},\n\tsignup: async (params) => {\n\t\tlet res = await axios.post('/verification/signup', params);\n\t\treturn res.data;\n\t},\n\tverify: async (tokenOrCode) => {\n\t\tlet res = await axios.get('/verification/verify/' + tokenOrCode);\n\t\treturn res.data;\n\t},\n\treverify: async (email) => {\n\t\tlet res = await axios.get('/verification/reverify/' + email);\n\t\treturn res.data;\n\t},\n\trequestPasswordReset: async (email) => {\n\t\tlet res = await axios.get('/verification/reset/' + email);\n\t\treturn res.data;\n\t},\n\tupdatePassword: async (token, password, password2) => {\n\t\tlet res = await axios.post('/verification/update', { token, password, password2 });\n\t\treturn res.data;\n\t},\n};\n","import axios from 'axios';\naxios.defaults.withCredentials = true;\nexport { axios };\n","import { axios } from './';\n\nexport default {\n\tget: async (id) => {\n\t\tlet res = await axios.get('/api/dictionary/id/' + id);\n\t\treturn res.data || {};\n\t},\n\tgetAll: async () => {\n\t\tlet res = await axios.get('/api/dictionary/all');\n\t\treturn res.data || [];\n\t},\n\tgetDictionary: async (langCode) => {\n\t\tlet res = await axios.get('/api/dictionary');\n\t\treturn res.data;\n\t},\n\tadd: async (term) => {\n\t\tlet res = await axios.post('/api/dictionary/', { term });\n\t\treturn res.data;\n\t},\n\tupdate: async (dict) => {\n\t\tlet res = await axios.patch('/api/dictionary/' + dict._id, dict);\n\t\treturn res.data;\n\t},\n\tupdateMany: async (dictionary) => {\n\t\tconst items = await axios.patch('/api/dictionary', dictionary);\n\t\treturn items;\n\t\t/*\n        const data = []\n        for (var i = 0; i < dictionary.length; i++){\n            const item = await axios.patch('/api/dictionary/' +dictionary[i]._id, dictionary[i])\n            data.push(item.data)\n        }\n        return data || []\n        */\n\t},\n\tdelete: async (id) => {\n\t\tlet res = await axios.delete('/api/dictionary/' + id);\n\t\treturn res.data;\n\t},\n\tdeleteAll: async () => {\n\t\tlet res = await axios.delete('/api/dictionary');\n\t\treturn res.data;\n\t},\n};\n"],"sourceRoot":""}